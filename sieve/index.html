<!DOCTYPE html>
<html lang="en">


<style>
    .status { 
        font: 30px monospace;
        /* text-align: center; */
    }
    .cell {
        font: bold 16px monospace;
        text-align: center;
        border: 1;
        height: 50px;
        width: 50px;
        background: green;
    }

    /* .background {} */
</style>

<head>
    <meta charset="utf-8">
    <title>Sieve of Eratosthenes</title>
</head>

<body onload="addTable();">
    <script>
        function myFunction(x) {
            //thx https://stackoverflow.com/questions/4120444/swap-table-cell-color-on-click
            var d = 0;
            
            if (x.style.backgroundColor === 'red') {
                x.style.backgroundColor = 'green';
                d = 1;
            } else {
                x.style.backgroundColor = 'red';
                d = -1;
            }

            var element = document.getElementById("count")
            var val = Number(element.innerHTML);
            element.innerHTML = val + d;
        }

        function addTable() {
            //thx https://stackoverflow.com/questions/14643617/create-table-using-javascript
            var myTableDiv = document.getElementById("myDynamicTable");
            
            var table = document.createElement('table');

            var tableBody = document.createElement('TBODY');
            table.appendChild(tableBody);
            var w = 12;
            var h = 20;


            for (var i = 0; i < h; i++) {
                var tr = document.createElement('tr');
                tableBody.appendChild(tr);

                for (var j = 0; j < w; j++) {
                    var td = document.createElement('td');
                    td.id = "cell" + (i*w + j + 1)
                    td.setAttribute("class", "cell")
                    td.setAttribute("onclick", "myFunction(this);") 
                    
                    td.appendChild(document.createTextNode(i*w + j + 1));
                    tr.appendChild(td);
                }
            }
            myTableDiv.appendChild(table);

            var element = document.getElementById("count");
            element.innerHTML = w*h;
        }
        // addTable();

    </script>
    <div class="status">
        Неотмеченных чисел: <text id="count"></text>
    </div>
    <div id="myDynamicTable">
    </div>

</body>

</html>
